---
name: game-balance-math
description: 게임 밸런스 수치 설계와 수학적 모델링이 필요할 때 참조하는 레퍼런스 허브. 수치 튜닝, 곡선 설계, 확률 모델, 경제 시뮬레이션 등 밸런싱 전반을 다룬다.
---

# 역할

이 스킬은 밸런스 수치 설계를 위한 **오케스트레이션 문서**다.

- 수식/예시/장문 해설은 `references/*.md`를 단일 진실원(SSoT)으로 사용한다.
- 이 문서는 요청 분류, 가정 관리, 문서 라우팅, 스크립트 실행 조건, 출력 계약만 정의한다.
- 같은 내용을 이 문서에 다시 적지 않는다.
- 모든 수치에는 근거(체감 목표, 장르 관행, 유사 게임 사례)를 붙인다. "그냥 이 값"은 허용하지 않는다.
- 여기서 다루는 수학은 런타임 공식이 아니라 테이블 데이터를 도출하기 위한 참고 도구다.

# 분석 역량

아래 5개 축에서 밸런스 의도를 수치 모델과 연결한다.

1. **Progression & Content Sync**: 성장 곡선과 콘텐츠 가용 구간의 불일치를 조기에 탐지한다.
2. **Economy & Inflation**: Faucet/Sink 불균형과 Time-to-Earn 변화를 추적한다.
3. **Combat & Difficulty**: TTK/EHP와 클리어 확률로 전투 체감 리듬을 검토한다.
4. **Telemetry for Validation**: 제안 수치가 검증 가능하도록 로그 포인트를 함께 설계한다.
5. **Matchmaking & Rank**: 공정성(품질)과 대기 시간(속도)의 트레이드오프를 명시한다.

한 축의 수치를 변경할 때 다른 축의 지표(특히 성장 속도 ↔ 경제 TTE ↔ 전투 TTK)에 파급되는지 함께 점검한다.

# 가정 프로토콜

- 사용자가 명시하지 않은 핵심 전제는 질문으로 보완하되, 질문은 최대 3개로 제한한다.
- 답변이 불충분하면 가정을 명시하고 진행한다.
- 모든 가정은 반드시 `근거(장르 관행/유사 게임/보수적 기본값)`와 `영향 지표`를 함께 기록한다.

요청 유형별 최소 입력:

- 분석: 구간 범위, 현재 수치(테이블 또는 요약), 문제 체감
- 설계: 목표 체감, 적용 구간, 콘텐츠 티어 수
- 문제 해결: 증상 구간, 비교 기준(이전 패치/타 구간/경쟁 사례)

# 인터랙션 가이드라인

사용자가 밸런싱 도움을 요청하면 아래 순서로 진행한다.

1. **Input Check**: 누락 정보 점검 후 필요한 최소 질문만 한다.
2. **Intent Clarification**: 사용자가 원하는 체감(속도, 긴장, 보상감)을 한 줄로 정리한다.
3. **Reality Check**: 제안 수치를 감당할 콘텐츠/보상 구조가 실제로 존재하는지 확인한다.
4. **Model Options**: 모델 2~3개를 제시하고 장단점/리스크를 비교한다.
5. **Recommendation**: 단일 권장안 + 대안 1개 이상을 제시한다.
6. **Validation Plan**: 시뮬레이션과 텔레메트리 검증 항목을 함께 제시한다.

## Intent-to-Curve Recommendation Protocol

사용자가 "어떤 느낌", "선형/지수/계단식 중 뭐가 맞나"를 물으면 다음 우선순위를 따른다.

- 1차: `references/intent-curve-one-pager.md`
- 2차: `references/growth-intent-curve-playbook.md`
- 보강: `references/curve-genre-tempo.md`

응답에는 아래 6개를 반드시 포함한다.

- 의도 요약
- 추천 모델 2~3개(우선순위)
- 선택 이유
- 리스크(과성장/정체/경계 충격)
- 첫 조정 레버(ratio, p, 구간 경계, k 등)
- 검증 지표(레벨업 시간, TTK, TTE, 첫 시도 클리어율)

## Fun-Quant Thinking Protocol

사용자가 "재미"를 말하면 재미를 절대 공식으로 환원하지 않고 가설 기반으로 다룬다.

- 기준 문서: `references/fun-quant-thinking.md`
- 보강 문서: `references/growth-intent-curve-playbook.md`

반드시 아래 5개를 제시한다.

- 재미 의도 1줄
- 재미 가설 1~2줄(변경 -> 관찰 행동)
- 관찰 신호(주지표 2~3개 + 가드레일 1~2개)
- 실패 조건 1~2개
- 복구 레버 1~2개

평균값만으로 성공 판정하지 말고 가능하면 p90/p95와 코호트 분리를 함께 제시한다.

# 계산 스크립트

반복 계산이나 정밀 비교가 필요한 경우 스크립트를 우선 사용한다.

스크립트 실행 트리거:

- 표 재생성/반복 계산
- 퍼센타일 산출(p90/p95)
- 패치 전후 what-if 비교
- 목표값 역산(TTK/클리어율/비용 등)

| 스크립트 | 용도 |
|---|---|
| `scripts/ttk_ehp_calculator.py` | DPS/EHP/TTK 계산, 목표 TTK 기반 HP 역산 |
| `scripts/economy_flow_simulator.py` | Faucet/Sink/TTE, 패치 전후 재고 추이 시뮬레이션 |
| `scripts/enhancement_cost_simulator.py` | 강화 기대 시도/비용 + p50/p90/p95 계산 |
| `scripts/clear_probability_tuner.py` | 로지스틱 클리어율 곡선/역산/재시도 횟수 계산 |
| `scripts/matchmaking_simulator.py` | Elo 업데이트, 매칭 품질, 시즌 시뮬레이션, 랭크 분포 |

입력 파일이 있으면 `--input <json>`을 사용하고, 없으면 내장 샘플로 실행한다.

# 응답 포맷 (공통)

분석/설계/문제 해결 요청 모두 아래 공통 템플릿을 사용한다.

```markdown
## 요청 요약
[요청 목표와 범위를 1~3줄로 요약]

## 가정
| 항목 | 값 | 근거 | 영향 |
|---|---|---|---|
| ... | ... | ... | ... |

## 제안안
- 옵션 A: [핵심 변경 + 기대 효과 + 트레이드오프]
- 옵션 B: [핵심 변경 + 기대 효과 + 트레이드오프]
- 권장안: [선택 이유]

## 리스크/의존성
- [변경한 축이 다른 축에 미치는 파급 효과, 콘텐츠 가용성, 경계 구간 충격 등]

## 검증 계획
- 시뮬레이션: [반복 횟수/비교 조건/합격 기준]
- 텔레메트리: [핵심 지표 + 경보 기준]

## 참고 문서/스크립트
- References: [`...md`, `...md`]
- Scripts: [`...py`]
```

재미 요청일 때만 아래 블록을 추가한다.

```markdown
## 재미 발상 프레임 (조건부)
- 재미 의도:
- 재미 가설:
- 관찰 신호:
- 실패 조건:
- 복구 레버:
```

# 참고 자료 & 라우팅

참고용 안내:

- 아래 매핑은 절대 규칙이 아니라 시작점이다.
- 불확실하면 1~2개의 질문으로 전제를 확인하거나, 가정을 명시하고 진행한다.
- 참고 문서에 "이 문서의 범위 밖" 섹션이 있으면 해당 영역은 WebSearch로 사례를 조사한다.

아래 표는 `routing/reference-routing.json` 단일 소스에서 생성되며, 수동 수정하지 않는다.

## 요청-문서 빠른 라우팅

<!-- ROUTING_TABLE_START:skill -->
| 요청 신호(의도) | 먼저 볼 문서 | 핵심 산출 |
|---|---|---|
| 경험치, 레벨업 속도, 성장 곡선 | `experience-tables.md` | 레벨 구간별 XP 곡선/레벨업 시간 |
| 빠르게 추천해줘, 요약표로 먼저 알려줘 | `intent-curve-one-pager.md` | 의도-모델-리스크-지표를 1페이지로 제시 |
| 어떤 느낌을 주고 싶다, 선형/지수/계단식 추천 | `growth-intent-curve-playbook.md` | 체감 의도 기반 모델 추천 + 리스크/검증 지표 |
| 재미를 수치로 보고 싶다, 체감이 모호하다 | `fun-quant-thinking.md` | 재미를 가설/관찰 신호/실패 조건으로 변환 |
| 드랍률, 희귀도, 파밍 효율 | `drop-tables.md` | 가중치/희귀도/조건부 드롭 구조 |
| 쿨감, 공속, 방어력 효율, 소프트캡 | `diminishing-returns.md` | 수확 체감 공식과 k값 |
| 가챠, 천장, 중복 보호, 실패 누적 | `pity-systems.md` | pity/천장/중복보호 구조 |
| 장르 템포에 맞는 곡선을 고르고 싶다 | `curve-genre-tempo.md` | 장르-템포별 모델 후보 |
| 전투가 길다/짧다, 보스 체력, 페이즈 시간 | `combat-ttk-ehp.md` | DPS/EHP/TTK 기반 체력 산정 |
| 스테이지 난이도, 클리어율, 재시도 횟수 | `encounter-clear-probability.md` | 목표 클리어율/재시도 횟수 |
| 인플레/디플레, 재화 수지, TTE | `economy-faucet-sink.md` | Faucet-Sink/TTE/패치 충격 |
| 강화 기대비용, 파괴 리스크, 보호권 가치 | `enhancement-expected-cost.md` | 평균/p90/p95 소모량 |
| 매칭, MMR, 레이팅, Elo, 실력 측정 | `matchmaking-rating-rank.md` | 레이팅 모델 선택/매칭 품질-대기 트레이드오프 |
| 랭크, 티어, 배치, 시즌 리셋, 승률 목표 | `matchmaking-rating-rank.md` | 랭크 분포 설계/시즌 리셋 전략 |
<!-- ROUTING_TABLE_END:skill -->
