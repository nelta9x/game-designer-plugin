# 경제 수지 모델 (Faucet / Sink / Inflation)

## 빠른 내비게이션

### 언제 이 문서를 여는가

- 패치 후 재화가 너무 빨리 쌓이거나 고갈되는 느낌이 있을 때
- 아이템 가격/보상/드랍률 변경 전 인플레이션 리스크를 점검할 때
- 코호트별 Time-to-Earn 목표를 설계하거나 재조정할 때

### Quick Formula

```
Stock(t+1) = Stock(t) + Faucet(t) - Sink(t)
NetFlow = Faucet - Sink
인플레압력 = Faucet / Sink
TTE(item) = 목표가격 / 일일가처분재화
```

### 목차

- 1. 경제를 보는 최소 수식
- 2. 핵심 KPI 정의
- 3. Time-to-Earn 중심 설계
- 4. 패치 충격(Shock) 시뮬레이션
- 5. 코호트 분리
- 6. Sink 설계 레버
- 7. 가격/보상 동기화 원칙
- 8. 프리미엄 재화와 교차될 때
- 9. 빠른 시뮬레이션 템플릿
- 10. 텔레메트리 경보 조건
- 11. 라이브옵스 조정 우선순위
- 설계 체크리스트

## 1. 경제를 보는 최소 수식

게임 내 화폐(또는 핵심 재화) 흐름은 아래로 관리한다.

```
Stock(t+1) = Stock(t) + Faucet(t) - Sink(t)
```

- `Stock`: 유저가 보유한 총량(재고)
- `Faucet`: 공급(퀘스트, 드랍, 이벤트, 판매)
- `Sink`: 소모(강화, 제작, 수리, 세금, 입장료)

핵심은 "총량"보다 `순유입(Net Flow)`과 `속도(Velocity)`다.

```
NetFlow = Faucet - Sink
```

---

## 2. 핵심 KPI 정의

| 지표 | 식 | 의미 |
|------|----|------|
| 순유입량 | `F - S` | 재화가 쌓이는지/줄어드는지 |
| 인플레 압력 지수 | `F / S` | 1보다 크면 인플레 압력 |
| 가처분 재화 | `F - 필수Sink` | 플레이어가 자유 소비 가능한 양 |
| Time-to-Earn | `가격 / 일일가처분재화` | 목표 아이템까지 걸리는 시간 |
| 재화 소각률 | `S / F` | Sink가 Faucet를 얼마나 흡수하는지 |

휴리스틱:

| 구간 | 해석 |
|------|------|
| `F/S < 0.90` | 디플레 위험 (성장 정체/좌절) |
| `0.90 ~ 0.95` | 완만한 디플레/정체 우려 |
| `0.95 ~ 1.05` | 비교적 안정 |
| `1.05 ~ 1.15` | 완만한 인플레 |
| `> 1.15` | 빠른 인플레 (가격 체감 붕괴 위험) |

---

## 3. Time-to-Earn 중심 설계

밸런싱에서 유저 체감은 확률보다 "시간"으로 들어온다.

```
TTE(item) = 목표가격 / 일일가처분재화
```

예시 (목표 아이템 12,000골드):

| 일일 가처분 재화 | TTE |
|------------------|-----|
| 200 | 60.0일 |
| 440 | 27.3일 |
| 600 | 20.0일 |

의미:

- 20~30일 목표였던 아이템이 패치 후 7~10일로 줄면 메타가 붕괴할 수 있다.
- 반대로 30일 목표가 80일이 되면 이탈률이 급증한다.

---

## 4. 패치 충격(Shock) 시뮬레이션

초기 재고 `50,000`, 일일 Faucet/Sink는 아래로 가정.

- 기준: `F=1200, S=1000 -> Net +200`
- 드랍 +20% 패치: `F=1440, S=1000 -> Net +440`

시점별 재고:

| Day | 기준 시나리오 | 드랍 +20% |
|-----|---------------|-----------|
| 1 | 50,200 | 50,440 |
| 7 | 51,400 | 53,080 |
| 14 | 52,800 | 56,160 |
| 30 | 56,000 | 63,200 |

패치 이후 30일 누적 차이: `+7,200` (플레이어 1인 기준)

### 완충 방법

- 공급 버프를 넣었다면 Sink도 동시 조정한다.
- 목표는 "재미를 올리되, TTE 목표 밴드는 유지"다.

예시:

| 시나리오 | Faucet | Sink | Net | F/S |
|----------|--------|------|-----|-----|
| 기준 | 1200 | 1000 | +200 | 1.20 |
| 공급 버프만 | 1440 | 1000 | +440 | 1.44 |
| 공급+Sink 동시조정 | 1440 | 1260 | +180 | 1.14 |

---

## 5. 코호트 분리 (신규/중간/엔드)

전체 평균만 보면 착시가 발생한다.

| 코호트 | 일일 Faucet | 일일 Sink | Net | 리스크 |
|--------|-------------|-----------|-----|--------|
| 신규 | 900 | 700 | +200 | 진입 구간은 괜찮음 |
| 중간 | 1500 | 1400 | +100 | 성장 정체 가능 |
| 엔드 | 2600 | 2500 | +100 | 재화 누적 가속 가능 |

같은 `+100`이어도 의미가 다르다.

- 신규: 진행 동기 유지에 필요
- 엔드: 장기간 누적으로 인플레 원인

권장: 코호트별 TTE를 별도로 관리한다.

---

## 6. Sink 설계 레버

| Sink 유형 | 장점 | 주의 |
|----------|------|------|
| 강화/제작 비용 | 지속적 소각 | 과하면 성장 좌절 |
| 거래소 세금 | 고보유층 소각 효과 큼 | 거래 위축 가능 |
| 수리/소모품 | 반복 플레이와 연동 | 단순 벌금처럼 느끼면 반감 |
| 입장료/재도전권 | 고수익 콘텐츠 제어 | 시도 장벽이 되지 않게 |
| 시즌성 소각처(한정 상점) | 재고 압축 강함 | 과금 압박으로 보이지 않게 |

좋은 Sink의 조건:

1. 플레이어가 "가치 있는 소비"로 인식
2. 특정 코호트에만 과도한 부담이 없음
3. 라이브 시 손쉽게 조절 가능한 파라미터 보유

---

## 7. 가격/보상 동기화 원칙

### 7-1. 가격은 Faucet보다 늦게 움직여야 한다

- 패치 당일 가격을 함께 올리면 체감 보상이 사라진다.
- 먼저 공급 변화를 관측하고, 1~2주 후 조정한다.

### 7-2. 필수재 vs 사치재 분리

- 필수재(강화 재료): TTE 안정 최우선
- 사치재(코스메틱): 인플레 흡수용 고가도 가능

### 7-3. 상위권 앵커를 별도 설계

고인물의 초과 재화를 흡수할 앵커 가격이 없으면, 중저가 시장이 왜곡된다.

---

## 8. 프리미엄 재화와 교차될 때

소프트/프리미엄 재화가 교환되면 경제 파급이 커진다.

```
유효 소프트 Faucet = 기본 Faucet + (프리미엄 -> 소프트 환전량)
```

체크 포인트:

1. 환전 비율이 이벤트마다 달라져 투기 루프를 만들지 않는가?
2. 고가치 패키지가 TTE를 의도 범위 밖으로 단축하지 않는가?
3. 무/소과금의 핵심 성장 루트가 막히지 않는가?

---

## 9. 빠른 시뮬레이션 템플릿

### 스프레드시트

```
순유입: =Faucet-Sink
인플레압력: =Faucet/Sink
TTE: =가격/(Faucet-필수Sink)
재고(다음날): =전일재고+순유입
```

### Python (일 단위 시뮬레이션)

```python
stock = 50000
faucet = 1200
sink = 1000

for day in range(1, 31):
    stock += faucet - sink
    # 이벤트/패치 타이밍에 faucet/sink를 변경
```

---

## 10. 텔레메트리 경보 조건

최소 모니터링:

1. 코호트별 평균 보유 재화
2. 코호트별 TTE(핵심 목표 3종)
3. 하루 순유입 분포(평균/중앙값/p90)
4. 거래소 가격 지수(가능한 경우)
5. Sink 참여율(강화, 제작, 상점 소비율)

운영 경보 예시:

- 7일 이동평균 `F/S > 1.20`가 2주 지속
- 엔드 코호트 재고 p90가 4주 연속 상승
- 핵심 성장 재료 TTE가 목표 대비 `-30%` 이하로 급락

---

## 11. 라이브옵스 조정 우선순위

인플레 의심 시 권장 순서:

1. 공급 이벤트 강도 조절(가장 즉시성)
2. 선택형 Sink 보상 강화(저항감 낮음)
3. 거래/제작 세율 미세 조정
4. 가격 조정은 마지막 수단

디플레 의심 시 권장 순서:

1. 초기/중간 코호트 Faucet 완화
2. 필수 Sink 완화(특히 진입 구간)
3. 목표 보상 달성 루트 추가

---

## 설계 체크리스트

1. [ ] 핵심 재화마다 Faucet/Sink 맵이 있는가?
2. [ ] 코호트별 TTE 목표(신규/중간/엔드)가 정의되어 있는가?
3. [ ] 패치 전후 30일 재고 시뮬레이션을 했는가?
4. [ ] 공급 증가 패치 시 Sink 동시 조정안이 있는가?
5. [ ] 인플레 경보 지표와 임계값이 운영 대시보드에 있는가?
6. [ ] 프리미엄-소프트 교환이 있을 때 경제 파급을 반영했는가?

---

## 다음으로 볼 문서

- `./drop-tables.md` (보상 공급량을 드랍 테이블 파라미터로 연결)
- `./enhancement-expected-cost.md` (강화 Sink가 경제에 미치는 소각량 계산)
- `./encounter-clear-probability.md` (클리어율 변화가 재화 유입량에 미치는 영향)
